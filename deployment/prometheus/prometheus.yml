global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'eracun-development'
    environment: 'local'

# Load rules once and periodically evaluate them
rule_files:
  - "/etc/prometheus/alerts.yml"

# Scrape configurations
scrape_configs:
  # Prometheus itself
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # Team 3 Services
  - job_name: 'digital-signature-service'
    static_configs:
      - targets: ['digital-signature-service:9096']
        labels:
          service: 'digital-signature-service'
          team: 'team-3'
          priority: 'P0'

  - job_name: 'fina-connector'
    static_configs:
      - targets: ['fina-connector:9097']
        labels:
          service: 'fina-connector'
          team: 'team-3'
          priority: 'P0'

  - job_name: 'archive-service'
    static_configs:
      - targets: ['archive-service:9098']
        labels:
          service: 'archive-service'
          team: 'team-3'
          priority: 'P1'

  - job_name: 'dead-letter-handler'
    static_configs:
      - targets: ['dead-letter-handler:9099']
        labels:
          service: 'dead-letter-handler'
          team: 'team-3'
          priority: 'P1'

  - job_name: 'cert-lifecycle-manager'
    static_configs:
      - targets: ['cert-lifecycle-manager:9100']
        labels:
          service: 'cert-lifecycle-manager'
          team: 'team-3'
          priority: 'P0'

  - job_name: 'porezna-connector'
    static_configs:
      - targets: ['porezna-connector:9101']
        labels:
          service: 'porezna-connector'
          team: 'team-3'
          priority: 'P0'

  - job_name: 'reporting-service'
    static_configs:
      - targets: ['reporting-service:9102']
        labels:
          service: 'reporting-service'
          team: 'team-3'
          priority: 'P1'
