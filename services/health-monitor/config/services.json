{
  "services": [
    {
      "name": "xsd-validator",
      "health_url": "http://xsd-validator:8088/health",
      "ready_url": "http://xsd-validator:8088/ready",
      "critical": true,
      "poll_interval_ms": 15000,
      "layer": 4,
      "description": "XSD schema validator for UBL 2.1 invoices"
    },
    {
      "name": "schematron-validator",
      "health_url": "http://schematron-validator:8089/health",
      "ready_url": "http://schematron-validator:8089/ready",
      "critical": true,
      "poll_interval_ms": 15000,
      "layer": 4,
      "description": "Schematron business rules validator for Croatian CIUS"
    },
    {
      "name": "audit-logger",
      "health_url": "http://audit-logger:8080/health",
      "ready_url": "http://audit-logger:8080/ready",
      "critical": true,
      "poll_interval_ms": 15000,
      "layer": 9,
      "description": "Immutable audit trail service"
    },
    {
      "name": "email-ingestion-worker",
      "health_url": "http://email-ingestion-worker:8080/health",
      "ready_url": "http://email-ingestion-worker:8080/ready",
      "critical": true,
      "poll_interval_ms": 30000,
      "layer": 1,
      "description": "Email ingestion worker for invoice attachments"
    },
    {
      "name": "web-upload-handler",
      "health_url": "http://web-upload-handler:8081/health",
      "ready_url": "http://web-upload-handler:8081/ready",
      "critical": true,
      "poll_interval_ms": 30000,
      "layer": 1,
      "description": "Web upload handler for manual invoice uploads"
    },
    {
      "name": "api-gateway",
      "health_url": "http://api-gateway:8082/health",
      "ready_url": "http://api-gateway:8082/ready",
      "critical": true,
      "poll_interval_ms": 15000,
      "layer": 1,
      "description": "API gateway for external invoice submission"
    },
    {
      "name": "as4-gateway-receiver",
      "health_url": "http://as4-gateway-receiver:8083/health",
      "ready_url": "http://as4-gateway-receiver:8083/ready",
      "critical": true,
      "poll_interval_ms": 30000,
      "layer": 1,
      "description": "AS4 gateway receiver for B2B invoice exchange"
    },
    {
      "name": "file-classifier",
      "health_url": "http://file-classifier:8084/health",
      "ready_url": "http://file-classifier:8084/ready",
      "critical": false,
      "poll_interval_ms": 30000,
      "layer": 2,
      "description": "File type classifier (PDF, XML, image)"
    },
    {
      "name": "pdf-parser",
      "health_url": "http://pdf-parser:8085/health",
      "ready_url": "http://pdf-parser:8085/ready",
      "critical": false,
      "poll_interval_ms": 30000,
      "layer": 2,
      "description": "PDF parser for structured invoice extraction"
    },
    {
      "name": "ocr-processor",
      "health_url": "http://ocr-processor:8086/health",
      "ready_url": "http://ocr-processor:8086/ready",
      "critical": false,
      "poll_interval_ms": 30000,
      "layer": 2,
      "description": "OCR processor for scanned invoice images"
    },
    {
      "name": "xml-parser",
      "health_url": "http://xml-parser:8087/health",
      "ready_url": "http://xml-parser:8087/ready",
      "critical": true,
      "poll_interval_ms": 30000,
      "layer": 2,
      "description": "XML parser for UBL 2.1 invoices"
    },
    {
      "name": "kpd-validator",
      "health_url": "http://kpd-validator:8090/health",
      "ready_url": "http://kpd-validator:8090/ready",
      "critical": true,
      "poll_interval_ms": 15000,
      "layer": 4,
      "description": "KPD (KLASUS 2025) product code validator"
    },
    {
      "name": "oib-validator",
      "health_url": "http://oib-validator:8091/health",
      "ready_url": "http://oib-validator:8091/ready",
      "critical": true,
      "poll_interval_ms": 30000,
      "layer": 4,
      "description": "OIB (Croatian tax ID) validator with checksum verification"
    },
    {
      "name": "ai-validation-service",
      "health_url": "http://ai-validation-service:8092/health",
      "ready_url": "http://ai-validation-service:8092/ready",
      "critical": false,
      "poll_interval_ms": 30000,
      "layer": 4,
      "description": "AI-powered semantic validation and anomaly detection"
    },
    {
      "name": "ubl-transformer",
      "health_url": "http://ubl-transformer:8093/health",
      "ready_url": "http://ubl-transformer:8093/ready",
      "critical": true,
      "poll_interval_ms": 30000,
      "layer": 5,
      "description": "UBL 2.1 transformer for Croatian CIUS"
    },
    {
      "name": "fina-soap-connector",
      "health_url": "http://fina-soap-connector:8094/health",
      "ready_url": "http://fina-soap-connector:8094/ready",
      "critical": true,
      "poll_interval_ms": 15000,
      "layer": 7,
      "description": "FINA SOAP API connector for fiscalization"
    },
    {
      "name": "porezna-connector",
      "health_url": "http://porezna-connector:8095/health",
      "ready_url": "http://porezna-connector:8095/ready",
      "critical": true,
      "poll_interval_ms": 15000,
      "layer": 7,
      "description": "Tax Authority (Porezna Uprava) connector"
    },
    {
      "name": "dead-letter-handler",
      "health_url": "http://dead-letter-handler:8096/health",
      "ready_url": "http://dead-letter-handler:8096/ready",
      "critical": false,
      "poll_interval_ms": 30000,
      "layer": 9,
      "description": "Dead letter queue handler for failed messages"
    },
    {
      "name": "notification-service",
      "health_url": "http://notification-service:8097/health",
      "ready_url": "http://notification-service:8097/ready",
      "critical": false,
      "poll_interval_ms": 30000,
      "layer": 9,
      "description": "Notification service for alerts and status updates"
    },
    {
      "name": "admin-portal-api",
      "health_url": "http://admin-portal-api:8098/health",
      "ready_url": "http://admin-portal-api:8098/ready",
      "critical": false,
      "poll_interval_ms": 30000,
      "layer": 8,
      "description": "Admin portal backend API"
    }
  ],
  "external_dependencies": [
    {
      "name": "rabbitmq",
      "health_url": "http://rabbitmq:15672/api/healthchecks/node",
      "ready_url": "http://rabbitmq:15672/api/healthchecks/node",
      "critical": true,
      "poll_interval_ms": 60000,
      "description": "RabbitMQ message broker"
    },
    {
      "name": "postgresql",
      "health_url": "postgresql://connection-check",
      "ready_url": "postgresql://connection-check",
      "critical": true,
      "poll_interval_ms": 60000,
      "description": "PostgreSQL database (managed)"
    },
    {
      "name": "kafka",
      "health_url": "kafka://broker-metadata",
      "ready_url": "kafka://broker-metadata",
      "critical": true,
      "poll_interval_ms": 60000,
      "description": "Apache Kafka event streaming"
    }
  ]
}
