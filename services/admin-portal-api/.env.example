# Admin Portal API Configuration

# Service Configuration
SERVICE_NAME=admin-portal-api
HTTP_PORT=8089
PROMETHEUS_PORT=9094
NODE_ENV=production
LOG_LEVEL=info

# JWT Configuration
JWT_SECRET=<generate-random-256-bit-key>
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d

# PostgreSQL Database (Admin Portal)
DATABASE_URL=postgresql://admin_api:password@localhost:5432/admin_portal

# Database Connection Pool
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_POOL_IDLE_TIMEOUT_MS=30000
DB_POOL_CONNECTION_TIMEOUT_MS=5000

# Downstream Service URLs
HEALTH_MONITOR_URL=http://health-monitor:8084
DEAD_LETTER_HANDLER_URL=http://dead-letter-handler:8081
CERT_MANAGER_URL=http://cert-lifecycle-manager:8087
AUDIT_LOGGER_GRPC=audit-logger:50051

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_TIMEOUT_HOURS=24

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes for auth endpoints
RATE_LIMIT_MAX=5             # Max 5 login attempts per window
API_RATE_LIMIT_WINDOW_MS=60000  # 1 minute for API endpoints
API_RATE_LIMIT_MAX=100       # Max 100 API requests per window

# CORS Configuration
CORS_ORIGIN=https://admin.eracun.hr
# For multiple origins, use comma-separated: https://admin.eracun.hr,https://staging-admin.eracun.hr

# OpenTelemetry (Optional)
OTEL_EXPORTER_JAEGER_ENDPOINT=http://jaeger:14268/api/traces
OTEL_SERVICE_NAME=admin-portal-api
