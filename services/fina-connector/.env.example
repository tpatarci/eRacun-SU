# Service Configuration
SERVICE_NAME=fina-connector
NODE_ENV=development

# FINA SOAP API
FINA_WSDL_URL=https://cistest.apis-it.hr:8449/FiskalizacijaServiceTest?wsdl
FINA_ENDPOINT_URL=https://cistest.apis-it.hr:8449/FiskalizacijaServiceTest
FINA_TIMEOUT_MS=5000

# Digital Signature Service
SIGNATURE_SERVICE_URL=http://localhost:8088

# PostgreSQL (Offline Queue)
DATABASE_URL=postgresql://fina_connector:password@localhost:5432/eracun

# RabbitMQ
RABBITMQ_URL=amqp://localhost:5672
RABBITMQ_QUEUE_FISCALIZATION_REQUESTS=fiscalization.requests
RABBITMQ_QUEUE_FISCALIZATION_RESPONSES=fiscalization.responses
RABBITMQ_QUEUE_DEAD_LETTER=dead-letter

# Observability
LOG_LEVEL=info
METRICS_PORT=9097
JAEGER_ENDPOINT=http://localhost:14268/api/traces
OTEL_SERVICE_NAME=fina-connector

# Retry Configuration
MAX_RETRIES=3
RETRY_DELAY_BASE_MS=2000
OFFLINE_QUEUE_RETRY_INTERVAL_MS=300000

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_SECOND=50

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true           # Enable/disable circuit breakers (default: true)
CIRCUIT_BREAKER_ERROR_THRESHOLD=50     # Error percentage to open circuit (default: 50%)
CIRCUIT_BREAKER_VOLUME_THRESHOLD=10    # Minimum requests before circuit opens (default: 10)
CIRCUIT_BREAKER_RESET_TIMEOUT_MS=30000 # Time circuit stays open (default: 30 seconds)
